apiVersion: dynatrace.com/v1beta5
kind: DynaKube
metadata:
  name: dynakube
  namespace: dynatrace

spec:
  # Link to api reference for further information: https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters

  # Required: Dynatrace apiUrl including the `/api` path at the end.
  apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api

  # Enable telemetry ingest. Without a local in-cluster ActiveGate ingested data
  # is sent directly to your tenant.
  telemetryIngest:

    # All protocols are enabled, you can choose to enable only the ones you need
    protocols:
    - otlp
    - zipkin
    - statsd
    - jaeger

    # Optional: Name of secret holding a TLS certificate to secure the telemetry ingest endpoints.
    # tlsRefName: my-tls-secret

    # Optional: Name of the telemetry ingest service that your applications should use.
    # This will result in the service name telemetry-ingest.dynatrace.svc
    # serviceName: telemetry-ingest
