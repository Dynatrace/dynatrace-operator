apiVersion: dynatrace.com/v1alpha2
kind: EdgeConnect
metadata:
  name: edge-connect-sample
  namespace: dynatrace
spec:
  apiServer: "https://example.dev.apps.dynatracelabs.com"
  replicas: 1

  oauth:
    # OAuth client has to be created in Dynatrace account management
    # https://docs.dynatrace.com/docs/shortlink/account-api-authentication#create-an-oauth2-client
    #
    # required scopes:
    # - app-engine:edge-connects:connect
    # - app-engine:edge-connects:read
    # - app-engine:edge-connects:write
    # - app-engine:edge-connects:delete
    # - oauth2:client:manage
    clientSecret: provisioner-oauth-client-secret
    endpoint: https://sso-dev.dynatracelabs.com/sso/oauth2/token
    resource: urn:dtaccount:cd99bbd6-3b73-467e-b1fb-c09b9db9e7cc

    # Enable EdgeConnect provisioning
    provisioner: true
