<!-- Code generated by ./hack/doc/gen_e2e_features.sh - DO NOT EDIT -->

# activegate

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/activegate"
```

## Index

- [func Feature(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/activegate/activegate.go#L58>)

```go
func Feature(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature
```

### With proxy

Prerequisites: istio service mesh

Setup: OneAgent disabled

Verification if ActiveGate is rolled out successfully. All ActiveGate capabilities are enabled in Dynakube. The test checks if ActiveGate is able to communicate over a http proxy, related *Gateway* modules are active and that the *Gateway* process is reachable via *Gateway service*.

# edgeconnect

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/edgeconnect"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/edgeconnect/edgeconnect.go#L15>)

```go
func Feature(t *testing.T) features.Feature
```

# classic

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/classic"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/classic/classic.go#L20>)

```go
func Feature(t *testing.T) features.Feature
```

### ClassicFullStack deployment

Verification of classic-fullstack deployment. Sample application Deployment is installed and restarted to check if OneAgent is injected and can communicate with the *Dynatrace Cluster*.

# switch_modes

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/classic/switch_modes"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/classic/switch_modes/switch_modes.go#L24>)

```go
func Feature(t *testing.T) features.Feature
```

# applicationmonitoring

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/applicationmonitoring"
```

## Index

- [func DataIngest(t *testing.T) features.Feature](<#DataIngest>)
- [func LabelVersionDetection(t *testing.T) features.Feature](<#LabelVersionDetection>)
- [func ReadOnlyCSIVolume(t *testing.T) features.Feature](<#ReadOnlyCSIVolume>)
- [func WithoutCSI(t *testing.T) features.Feature](<#WithoutCSI>)

<a name="DataIngest"></a>

## func [DataIngest](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/data_ingest.go#L43>)

```go
func DataIngest(t *testing.T) features.Feature
```

Verification of the data ingest part of the operator. The test checks that enrichment variables are added to the initContainer and dt_metadata.json file contains required fields.

<a name="LabelVersionDetection"></a>

## func [LabelVersionDetection](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/label_version_detection.go#L99>)

```go
func LabelVersionDetection(t *testing.T) features.Feature
```

Verification that build labels are created and set accordingly. The test checks:

- default behavior - feature flag exists, but no additional configuration so the default variables are added - custom mapping - feature flag exists, with additional configuration so all 4 build variables are added - preserved values of existing variables - build variables exist, feature flag exists, with additional configuration, values of build variables not get overwritten - incorrect custom mapping - invalid name of BUILD VERSION label, reference exists but actual label doesn't exist

<a name="ReadOnlyCSIVolume"></a>

## func [ReadOnlyCSIVolume](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/read_only_csi_volume.go#L31>)

```go
func ReadOnlyCSIVolume(t *testing.T) features.Feature
```

<a name="WithoutCSI"></a>

## func [WithoutCSI](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/without_csi.go#L22>)

```go
func WithoutCSI(t *testing.T) features.Feature
```

ApplicationMonitoring deployment without CSI driver

# support_archive

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/support_archive"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)
- [type CustomResources](<#CustomResources>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/support_archive/support_archive.go#L45>)

```go
func Feature(t *testing.T) features.Feature
```

Setup: DTO with CSI driver

Verification if support-archive package created by the support-archive command and printed to the standard output is a valid tar.gz package and contains required *operator-version.txt* file.

<a name="CustomResources"></a>

## type [CustomResources](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/support_archive/support_archive.go#L35-L38>)

```go
type CustomResources struct {
    // contains filtered or unexported fields
}
```

# cloudnative

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative"
```

## Index

- [func AssessSampleInitContainers(builder *features.FeatureBuilder, sampleApp *sample.App)](<#AssessSampleInitContainers>)
- [func DefaultCloudNativeSpec() *dynatracev1beta1.CloudNativeFullStackSpec](<#DefaultCloudNativeSpec>)

<a name="AssessSampleInitContainers"></a>

## func [AssessSampleInitContainers](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/init_containers.go#L23>)

```go
func AssessSampleInitContainers(builder *features.FeatureBuilder, sampleApp *sample.App)
```

<a name="DefaultCloudNativeSpec"></a>

## func [DefaultCloudNativeSpec](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/init_containers.go#L82>)

```go
func DefaultCloudNativeSpec() *dynatracev1beta1.CloudNativeFullStackSpec
```

# network_problems

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/network_problems"
```

## Index

- [func ResilienceFeature(t *testing.T) features.Feature](<#ResilienceFeature>)

<a name="ResilienceFeature"></a>

## func [ResilienceFeature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/network_problems/network_problems.go#L49>)

```go
func ResilienceFeature(t *testing.T) features.Feature
```

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verification that the CSI driver is able to recover from network issues, when using cloudNative and code modules image.

Connectivity for csi driver pods is restricted to the local k8s cluster (no outside connections allowed) and sample application is installed. The test checks if init container was attached, run successfully and that the sample pods are up and running.

# upgrade

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/upgrade"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/upgrade/upgrade.go#L18>)

```go
func Feature(t *testing.T) features.Feature
```

# network_zones

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/network_zones"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/network_zones/network_zones.go#L53>)

```go
func Feature(t *testing.T) features.Feature
```

Feature defines the overall e2e test for testing OneAgent injection behavior when Dynatrace is configured with a network zone.

It does the following to cover the scenario of ensuring OneAgent injection is properly blocked when no ActiveGate is available, and enabled once one is added:

- Creates test a network zone via the tenant helper (can be highly destructive)
- Configures a DynaKube custom resource without an ActiveGate => no activegate == no networkzone communication
- Installs a sample application
- Verifies the sample app pods do NOT have OneAgent injected, validated via pod annotations
- Updates the DynaKube to add an ActiveGate => so now networkzone communication is possible
- Restarts the sample app pods
- Verifies the sample app pods now DO have OneAgent injected

Prerequisites: Have a tenant that has no activegates bound to it.

# codemodules

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/codemodules"
```

## Index

- [func InstallFromImage(t *testing.T) features.Feature](<#InstallFromImage>)
- [func WithProxy(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature](<#WithProxy>)
- [func WithProxyCA(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature](<#WithProxyCA>)

<a name="InstallFromImage"></a>

## func [InstallFromImage](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L59>)

```go
func InstallFromImage(t *testing.T) features.Feature
```

Verification that the storage in the CSI driver directory does not increase when there are multiple tenants and pods which are monitored.

<a name="WithProxy"></a>

## func [WithProxy](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L130>)

```go
func WithProxy(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature
```

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verification that the operator and all deployed OneAgents are able to communicate over a http proxy.

Connectivity in the dynatrace namespace and sample application namespace is restricted to the local cluster. Sample application is installed. The test checks if DT_PROXY environment variable is defined in the *dynakube-oneagent* container and the *application container*.

<a name="WithProxyCA"></a>

## func [WithProxyCA](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L178>)

```go
func WithProxyCA(t *testing.T, proxySpec *dynatracev1beta1.DynaKubeProxy) features.Feature
```

# public_registry

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/public_registry"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/public_registry/public_registry.go#L36>)

```go
func Feature(t *testing.T) features.Feature
```

# _default

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/default"
```

## Index

- [func Feature(t *testing.T, istioEnabled bool) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/default/default.go#L50>)

```go
func Feature(t *testing.T, istioEnabled bool) features.Feature
```

### With istio enabled

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verify that the operator is working as expected when istio service mesh is installed and pre-configured on the cluster.

### Install

Verification that OneAgent is injected to sample application pods and can communicate with the *Dynatrace Cluster*.

### Upgrade

Verification that a *released version* can be updated to the *current version*. The exact number of *released version* is updated manually. The *released version* is installed using configuration files from GitHub.

Sample application Deployment is installed and restarted to check if OneAgent is injected and can communicate with the *Dynatrace Cluster*.

### Specific Agent Version)

Verification that the operator is able to set agent version which is given via the dynakube. Upgrading to a newer version of agent is also tested.

Sample application Deployment is installed and restarted to check if OneAgent is injected and VERSION environment variable is correct.

# disabled_auto_injection

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/disabled_auto_injection"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/disabled_auto_injection/disabled_auto_injection.go#L21>)

```go
func Feature(t *testing.T) features.Feature
```

# switch_modes

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/switch_modes"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/switch_modes/switch_modes.go#L22>)

```go
func Feature(t *testing.T) features.Feature
```
