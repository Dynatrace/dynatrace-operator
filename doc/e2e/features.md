<!-- Code generated by ./hack/doc/gen_e2e_features.sh - DO NOT EDIT -->

# activegate

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/activegate"
```

## Index

- [func Feature(t *testing.T, proxySpec *value.Source) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/activegate/activegate.go#L59>)

```go
func Feature(t *testing.T, proxySpec *value.Source) features.Feature
```

### With proxy

Prerequisites: istio service mesh

Setup: OneAgent disabled

Verification if ActiveGate is rolled out successfully. All ActiveGate capabilities are enabled in Dynakube. The test checks if ActiveGate is able to communicate over a http proxy, related *Gateway* modules are active and that the *Gateway* process is reachable via *Gateway service*.

# applicationmonitoring

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/applicationmonitoring"
```

## Index

- [func LabelVersionDetection(t *testing.T) features.Feature](<#LabelVersionDetection>)
- [func MetadataEnrichment(t *testing.T) features.Feature](<#MetadataEnrichment>)
- [func ReadOnlyCSIVolume(t *testing.T) features.Feature](<#ReadOnlyCSIVolume>)
- [func WithoutCSI(t *testing.T) features.Feature](<#WithoutCSI>)

<a name="LabelVersionDetection"></a>

## func [LabelVersionDetection](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/label_version_detection.go#L99>)

```go
func LabelVersionDetection(t *testing.T) features.Feature
```

Verification that build labels are created and set accordingly. The test checks:

- default behavior - feature flag exists, but no additional configuration so the default variables are added - custom mapping - feature flag exists, with additional configuration so all 4 build variables are added - preserved values of existing variables - build variables exist, feature flag exists, with additional configuration, values of build variables not get overwritten - incorrect custom mapping - invalid name of BUILD VERSION label, reference exists but actual label doesn't exist

<a name="MetadataEnrichment"></a>

## func [MetadataEnrichment](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/metadata_enrichment.go#L44>)

```go
func MetadataEnrichment(t *testing.T) features.Feature
```

Verification of the metadata enrichment part of the operator. The test checks that enrichment variables are added to the initContainer and dt_metadata.json file contains required fields.

<a name="ReadOnlyCSIVolume"></a>

## func [ReadOnlyCSIVolume](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/read_only_csi_volume.go#L31>)

```go
func ReadOnlyCSIVolume(t *testing.T) features.Feature
```

<a name="WithoutCSI"></a>

## func [WithoutCSI](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/applicationmonitoring/without_csi.go#L23>)

```go
func WithoutCSI(t *testing.T) features.Feature
```

ApplicationMonitoring deployment without CSI driver

# classic

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/classic"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/classic/classic.go#L20>)

```go
func Feature(t *testing.T) features.Feature
```

### ClassicFullStack deployment

Verification of classic-fullstack deployment. Sample application Deployment is installed and restarted to check if OneAgent is injected and can communicate with the *Dynatrace Cluster*.

# switch_modes

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/classic/switch_modes"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/classic/switch_modes/switch_modes.go#L24>)

```go
func Feature(t *testing.T) features.Feature
```

# cloudnative

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative"
```

## Index

- [func AssessActiveGateContainer(builder *features.FeatureBuilder, dk *dynakube.DynaKube, trustedCAs []byte)](<#AssessActiveGateContainer>)
- [func AssessOneAgentContainer(builder *features.FeatureBuilder, agCrt []byte, trustedCAs []byte)](<#AssessOneAgentContainer>)
- [func AssessSampleContainer(builder *features.FeatureBuilder, sampleApp *sample.App, agCrt []byte, trustedCAs []byte)](<#AssessSampleContainer>)
- [func AssessSampleInitContainers(builder *features.FeatureBuilder, sampleApp *sample.App)](<#AssessSampleInitContainers>)
- [func DefaultCloudNativeSpec() *oneagent.CloudNativeFullStackSpec](<#DefaultCloudNativeSpec>)

<a name="AssessActiveGateContainer"></a>

## func [AssessActiveGateContainer](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/container.go#L78>)

```go
func AssessActiveGateContainer(builder *features.FeatureBuilder, dk *dynakube.DynaKube, trustedCAs []byte)
```

<a name="AssessOneAgentContainer"></a>

## func [AssessOneAgentContainer](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/container.go#L66>)

```go
func AssessOneAgentContainer(builder *features.FeatureBuilder, agCrt []byte, trustedCAs []byte)
```

<a name="AssessSampleContainer"></a>

## func [AssessSampleContainer](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/container.go#L28>)

```go
func AssessSampleContainer(builder *features.FeatureBuilder, sampleApp *sample.App, agCrt []byte, trustedCAs []byte)
```

<a name="AssessSampleInitContainers"></a>

## func [AssessSampleInitContainers](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/init_containers.go#L27>)

```go
func AssessSampleInitContainers(builder *features.FeatureBuilder, sampleApp *sample.App)
```

<a name="DefaultCloudNativeSpec"></a>

## func [DefaultCloudNativeSpec](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/init_containers.go#L84>)

```go
func DefaultCloudNativeSpec() *oneagent.CloudNativeFullStackSpec
```

# codemodules

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/codemodules"
```

## Index

- [func InstallFromImage(t *testing.T) features.Feature](<#InstallFromImage>)
- [func WithProxy(t *testing.T, proxySpec *value.Source) features.Feature](<#WithProxy>)
- [func WithProxyAndAGCert(t *testing.T, proxySpec *value.Source) features.Feature](<#WithProxyAndAGCert>)
- [func WithProxyCA(t *testing.T, proxySpec *value.Source) features.Feature](<#WithProxyCA>)
- [func WithProxyCAAndAGCert(t *testing.T, proxySpec *value.Source) features.Feature](<#WithProxyCAAndAGCert>)

<a name="InstallFromImage"></a>

## func [InstallFromImage](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L67>)

```go
func InstallFromImage(t *testing.T) features.Feature
```

Verification that the storage in the CSI driver directory does not increase when there are multiple tenants and pods which are monitored.

<a name="WithProxy"></a>

## func [WithProxy](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L136>)

```go
func WithProxy(t *testing.T, proxySpec *value.Source) features.Feature
```

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verification that the operator and all deployed OneAgents are able to communicate over a http proxy.

Connectivity in the dynatrace namespace and sample application namespace is restricted to the local cluster. Sample application is installed. The test checks if DT_PROXY environment variable is defined in the *dynakubeComponents-oneagent* container and the *application container*.

<a name="WithProxyAndAGCert"></a>

## func [WithProxyAndAGCert](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L251>)

```go
func WithProxyAndAGCert(t *testing.T, proxySpec *value.Source) features.Feature
```

<a name="WithProxyCA"></a>

## func [WithProxyCA](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L190>)

```go
func WithProxyCA(t *testing.T, proxySpec *value.Source) features.Feature
```

<a name="WithProxyCAAndAGCert"></a>

## func [WithProxyCAAndAGCert](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/codemodules/codemodules.go#L316>)

```go
func WithProxyCAAndAGCert(t *testing.T, proxySpec *value.Source) features.Feature
```

# _default

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/default"
```

## Index

- [func Feature(t *testing.T, istioEnabled bool) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/default/default.go#L50>)

```go
func Feature(t *testing.T, istioEnabled bool) features.Feature
```

### With istio enabled

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verify that the operator is working as expected when istio service mesh is installed and pre-configured on the cluster.

### Install

Verification that OneAgent is injected to sample application pods and can communicate with the *Dynatrace Cluster*.

### Upgrade

Verification that a *released version* can be updated to the *current version*. The exact number of *released version* is updated manually. The *released version* is installed using configuration files from GitHub.

Sample application Deployment is installed and restarted to check if OneAgent is injected and can communicate with the *Dynatrace Cluster*.

### Specific Agent Version)

Verification that the operator is able to set agent version which is given via the dynakube. Upgrading to a newer version of agent is also tested.

Sample application Deployment is installed and restarted to check if OneAgent is injected and VERSION environment variable is correct.

# disabled_auto_injection

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/disabled_auto_injection"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/disabled_auto_injection/disabled_auto_injection.go#L21>)

```go
func Feature(t *testing.T) features.Feature
```

# network_problems

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/network_problems"
```

## Index

- [func ResilienceFeature(t *testing.T) features.Feature](<#ResilienceFeature>)

<a name="ResilienceFeature"></a>

## func [ResilienceFeature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/network_problems/network_problems.go#L49>)

```go
func ResilienceFeature(t *testing.T) features.Feature
```

Prerequisites: istio service mesh

Setup: CloudNative deployment with CSI driver

Verification that the CSI driver is able to recover from network issues, when using cloudNative and code modules image.

Connectivity for csi driver pods is restricted to the local k8s cluster (no outside connections allowed) and sample application is installed. The test checks if init container was attached, run successfully and that the sample pods are up and running.

# switch_modes

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/switch_modes"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/switch_modes/switch_modes.go#L22>)

```go
func Feature(t *testing.T) features.Feature
```

# upgrade

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/cloudnative/upgrade"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/cloudnative/upgrade/upgrade.go#L19>)

```go
func Feature(t *testing.T) features.Feature
```

# consts

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/consts"
```

## Index

- [Constants](<#constants>)

## Constants

<a name="AgCertificate"></a>

```go
const (
    AgCertificate                   = "custom-cas/agcrt.pem"
    AgCertificateAndPrivateKey      = "custom-cas/agcrtkey.p12"
    AgCertificateAndPrivateKeyField = "server.p12"
    AgSecretName                    = "ag-ca"
    DevRegistryPullSecretName       = "devregistry"
    EecImageRepo                    = "478983378254.dkr.ecr.us-east-1.amazonaws.com/dynatrace/dynatrace-eec"
    EecImageTag                     = "1.303.0.20240930-183404"
)
```

# edgeconnect

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/edgeconnect"
```

## Index

- [func AutomationModeFeature(t *testing.T) features.Feature](<#AutomationModeFeature>)
- [func NormalModeFeature(t *testing.T) features.Feature](<#NormalModeFeature>)
- [func ProvisionerModeFeature(t *testing.T) features.Feature](<#ProvisionerModeFeature>)

<a name="AutomationModeFeature"></a>

## func [AutomationModeFeature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/edgeconnect/edgeconnect.go#L113>)

```go
func AutomationModeFeature(t *testing.T) features.Feature
```

<a name="NormalModeFeature"></a>

## func [NormalModeFeature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/edgeconnect/edgeconnect.go#L36>)

```go
func NormalModeFeature(t *testing.T) features.Feature
```

<a name="ProvisionerModeFeature"></a>

## func [ProvisionerModeFeature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/edgeconnect/edgeconnect.go#L73>)

```go
func ProvisionerModeFeature(t *testing.T) features.Feature
```

# extensions

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/extensions"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/extensions/extensions.go#L26>)

```go
func Feature(t *testing.T) features.Feature
```

# publicregistry

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/publicregistry"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/publicregistry/publicregistry.go#L26>)

```go
func Feature(t *testing.T) features.Feature
```

Feature defines the e2e test to verify that public-registry images can be deployed by the operator and that they function This includes:

- ActiveGate StatefulSet gets ready
- CodeModules can be downloaded and mounted
- OneAgent DaemonSet gets ready

It determines the latest version of each image using the registry.

# support_archive

```go
import "github.com/Dynatrace/dynatrace-operator/test/features/support_archive"
```

## Index

- [func Feature(t *testing.T) features.Feature](<#Feature>)
- [type CustomResources](<#CustomResources>)

<a name="Feature"></a>

## func [Feature](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/support_archive/support_archive.go#L56>)

```go
func Feature(t *testing.T) features.Feature
```

Setup: DTO with CSI driver

Verification if support-archive package created by the support-archive command and printed to the standard output is a valid tar.gz package and contains required *operator-version.txt* file.

<a name="CustomResources"></a>

## type [CustomResources](<https://github.com/Dynatrace/dynatrace-operator/blob/main/test/features/support_archive/support_archive.go#L46-L49>)

```go
type CustomResources struct {
    // contains filtered or unexported fields
}
```
