name: Annotate manifest
description: annotate manifest
inputs:
  registry:
    description: The registry where the manifests are pushed
    required: true
  repository:
    description: The repository in the registry where the manifests are pushed
    required: true
  annotation:
    description: Annotation
    required: true
outputs:
  digest:
    description: The digest of the created manifest
    value: ${{ steps.create-manifest.outputs.digest }}
runs:
  using: "composite"
  steps:
    - name: Annotate manifest
      id: annotate-manifest
      env:
        IMAGE: ${{ inputs.registry }}/${{ inputs.repository }}
      shell: bash
      run: |
        hack/build/ci/annotate-manifest.sh "${IMAGE}" "${{ inputs.annotation }}"
