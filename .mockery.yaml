all: false
dir: 'test/mocks/{{trimPrefix "dynatrace-operator/" .InterfaceDirRelative}}'
pkgname: mocks
force-file-write: true
formatter: goimports
filename: "{{.InterfaceName | snakecase}}.go"
include-auto-generated: false
log-level: info
structname: '{{.InterfaceName}}'
recursive: false
require-template-schema-exists: true
template: testify
template-schema: '{{.Template}}.schema.json'


packages:
  # =============================================================================
  # Single-use mocks: placed in _test.go files next to their usage
  # =============================================================================
  github.com/Dynatrace/dynatrace-operator/cmd/supportarchive/remotecommand:
    config:
      dir: "{{.InterfaceDir}}/.."
      pkgname: "supportarchive"
      structname: "{{.Mock}}{{.InterfaceName}}"
      filename: "mock_{{.InterfaceName | snakecase }}_test.go"
    interfaces:
      Executor:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube/version:
    interfaces:
      StatusUpdater:
        config:
          dir: "{{.InterfaceDir}}"
          pkgname: "{{ .SrcPackageName }}"
          structname: "{{.Mock}}{{.InterfaceName}}"
          filename: "mock_{{.InterfaceName | snakecase }}_test.go"
      Reconciler:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube:
    interfaces:
      k8sEntityReconciler:
        config:
          dir: "{{.InterfaceDir}}"
          pkgname: "{{ .SrcPackageName }}"
          structname: '{{ .InterfaceName | firstUpper }}'
          filename: "mock_{{.InterfaceName | snakecase }}_test.go"
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube/activegate/internal/statefulset/builder:
    config:
      dir: "{{.InterfaceDir}}"
      pkgname: "{{ .SrcPackageName }}"
      structname: "{{.Mock}}{{.InterfaceName}}"
      filename: "mock_{{.InterfaceName | snakecase }}_test.go"
      recursive: true
    interfaces:
      Modifier:
  github.com/Dynatrace/dynatrace-operator/pkg/webhook/mutation/pod/handler:
    config:
      dir: "{{.InterfaceDir}}/.."
      pkgname: "pod"
      structname: "{{.Mock}}{{.InterfaceName}}"
      filename: "mock_{{.InterfaceName | snakecase }}_test.go"
    interfaces:
      Handler:

  # =============================================================================
  # Shared mocks: placed in test/mocks/ (using default config)
  # =============================================================================
  github.com/Dynatrace/dynatrace-operator/pkg/clients/dynatrace:
    interfaces:
      Client:
  github.com/Dynatrace/dynatrace-operator/pkg/clients/edgeconnect:
    interfaces:
      Client:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers:
    interfaces:
      Reconciler:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube/activegate:
    interfaces:
      CapabilityReconciler:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube/dynatraceclient:
    interfaces:
      Builder:
  github.com/Dynatrace/dynatrace-operator/pkg/controllers/dynakube/istio:
    interfaces:
      Reconciler:
  github.com/Dynatrace/dynatrace-operator/pkg/injection/codemodule/installer:
    interfaces:
      Installer:
  github.com/Dynatrace/dynatrace-operator/pkg/util/oci/registry:
    interfaces:
      ImageGetter:
  github.com/Dynatrace/dynatrace-operator/pkg/webhook/mutation/pod/mutator:
    interfaces:
      Mutator:
  k8s.io/client-go/kubernetes/typed/core/v1:
    config:
      dir: "test/mocks/{{.SrcPackagePath}}"
      include-auto-generated: true
    interfaces:
      PodInterface:
  github.com/container-storage-interface/spec/lib/go/csi:
    config:
      include-auto-generated: true
      dir: "test/mocks/{{.SrcPackagePath}}"
    interfaces:
      IdentityServer:
